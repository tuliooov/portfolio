"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/webhooks";
exports.ids = ["pages/api/webhooks"];
exports.modules = {

/***/ "faunadb":
/*!**************************!*\
  !*** external "faunadb" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("faunadb");

/***/ }),

/***/ "stripe":
/*!*************************!*\
  !*** external "stripe" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stripe");

/***/ }),

/***/ "(api)/./src/pages/api/_lib/manageSubscription.ts":
/*!**************************************************!*\
  !*** ./src/pages/api/_lib/manageSubscription.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"saveSubscription\": () => (/* binding */ saveSubscription)\n/* harmony export */ });\n/* harmony import */ var _service_fauna__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../service/fauna */ \"(api)/./src/service/fauna.ts\");\n/* harmony import */ var faunadb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! faunadb */ \"faunadb\");\n/* harmony import */ var faunadb__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(faunadb__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _service_stripe__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../service/stripe */ \"(api)/./src/service/stripe.ts\");\n\n\n\nconst saveSubscription = async (subscriptionId, customerId)=>{\n    const userRef = await _service_fauna__WEBPACK_IMPORTED_MODULE_0__.fauna.query(faunadb__WEBPACK_IMPORTED_MODULE_1__.query.Select(\"ref\", faunadb__WEBPACK_IMPORTED_MODULE_1__.query.Get(faunadb__WEBPACK_IMPORTED_MODULE_1__.query.Match(faunadb__WEBPACK_IMPORTED_MODULE_1__.query.Index(\"users_by_stripe_customer_id\"), customerId))));\n    const subscription = await _service_stripe__WEBPACK_IMPORTED_MODULE_2__.stripe.subscriptions.retrieve(subscriptionId);\n    const subscriptionData = {\n        id: subscription.id,\n        userId: userRef,\n        status: subscription.status,\n        priceId: subscription.items.data[0].price.id\n    };\n    await _service_fauna__WEBPACK_IMPORTED_MODULE_0__.fauna.query(faunadb__WEBPACK_IMPORTED_MODULE_1__.query.Create(faunadb__WEBPACK_IMPORTED_MODULE_1__.query.Collection(\"subscriptions\"), {\n        data: subscriptionData\n    }));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL19saWIvbWFuYWdlU3Vic2NyaXB0aW9uLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQThDO0FBQ1Y7QUFDWTtBQUV6QyxNQUFNSSxnQkFBZ0IsR0FBRyxPQUM1QkMsY0FBc0IsRUFDdEJDLFVBQWtCLEdBQ2pCO0lBQ0QsTUFBTUMsT0FBTyxHQUFHLE1BQU1QLHVEQUFXLENBQzdCRSxpREFBUSxDQUNKLEtBQUssRUFDTEEsOENBQUssQ0FDREEsZ0RBQU8sQ0FDSEEsZ0RBQU8sQ0FBQyw2QkFBNkIsQ0FBQyxFQUN0Q0ksVUFBVSxDQUNiLENBQ0osQ0FDSixDQUNKO0lBRUQsTUFBTU0sWUFBWSxHQUFHLE1BQU1ULDBFQUE2QixDQUFDRSxjQUFjLENBQUM7SUFFeEUsTUFBTVUsZ0JBQWdCLEdBQUc7UUFDckJDLEVBQUUsRUFBRUosWUFBWSxDQUFDSSxFQUFFO1FBQ25CQyxNQUFNLEVBQUVWLE9BQU87UUFDZlcsTUFBTSxFQUFFTixZQUFZLENBQUNNLE1BQU07UUFDM0JDLE9BQU8sRUFBRVAsWUFBWSxDQUFDUSxLQUFLLENBQUNDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQ0MsS0FBSyxDQUFDTixFQUFFO0tBRS9DO0lBRUQsTUFBTWhCLHVEQUFXLENBQ2JFLGlEQUFRLENBQ0pBLHFEQUFZLENBQUMsZUFBZSxDQUFDLEVBQzdCO1FBQUVtQixJQUFJLEVBQUVOLGdCQUFnQjtLQUFFLENBQzdCLENBQ0o7Q0FDSiIsInNvdXJjZXMiOlsid2VicGFjazovL3R1bGlvX3BvcnRmb2xpby8uL3NyYy9wYWdlcy9hcGkvX2xpYi9tYW5hZ2VTdWJzY3JpcHRpb24udHM/OTFhZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmYXVuYSB9IGZyb20gXCIuLi8uLi8uLi9zZXJ2aWNlL2ZhdW5hXCJcbmltcG9ydCB7IHF1ZXJ5IGFzIHEgfSBmcm9tICdmYXVuYWRiJ1xuaW1wb3J0IHsgc3RyaXBlIH0gZnJvbSBcIi4uLy4uLy4uL3NlcnZpY2Uvc3RyaXBlXCJcblxuZXhwb3J0IGNvbnN0IHNhdmVTdWJzY3JpcHRpb24gPSBhc3luYyAoXG4gICAgc3Vic2NyaXB0aW9uSWQ6IHN0cmluZyxcbiAgICBjdXN0b21lcklkOiBzdHJpbmdcbikgPT4ge1xuICAgIGNvbnN0IHVzZXJSZWYgPSBhd2FpdCBmYXVuYS5xdWVyeShcbiAgICAgICAgcS5TZWxlY3QoXG4gICAgICAgICAgICAncmVmJyxcbiAgICAgICAgICAgIHEuR2V0KFxuICAgICAgICAgICAgICAgIHEuTWF0Y2goXG4gICAgICAgICAgICAgICAgICAgIHEuSW5kZXgoJ3VzZXJzX2J5X3N0cmlwZV9jdXN0b21lcl9pZCcpLFxuICAgICAgICAgICAgICAgICAgICBjdXN0b21lcklkXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICApXG4gICAgKVxuXG4gICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gYXdhaXQgc3RyaXBlLnN1YnNjcmlwdGlvbnMucmV0cmlldmUoc3Vic2NyaXB0aW9uSWQpXG5cbiAgICBjb25zdCBzdWJzY3JpcHRpb25EYXRhID0ge1xuICAgICAgICBpZDogc3Vic2NyaXB0aW9uLmlkLFxuICAgICAgICB1c2VySWQ6IHVzZXJSZWYsXG4gICAgICAgIHN0YXR1czogc3Vic2NyaXB0aW9uLnN0YXR1cyxcbiAgICAgICAgcHJpY2VJZDogc3Vic2NyaXB0aW9uLml0ZW1zLmRhdGFbMF0ucHJpY2UuaWQsXG5cbiAgICB9XG5cbiAgICBhd2FpdCBmYXVuYS5xdWVyeShcbiAgICAgICAgcS5DcmVhdGUoXG4gICAgICAgICAgICBxLkNvbGxlY3Rpb24oJ3N1YnNjcmlwdGlvbnMnKSxcbiAgICAgICAgICAgIHsgZGF0YTogc3Vic2NyaXB0aW9uRGF0YSB9XG4gICAgICAgIClcbiAgICApXG59Il0sIm5hbWVzIjpbImZhdW5hIiwicXVlcnkiLCJxIiwic3RyaXBlIiwic2F2ZVN1YnNjcmlwdGlvbiIsInN1YnNjcmlwdGlvbklkIiwiY3VzdG9tZXJJZCIsInVzZXJSZWYiLCJTZWxlY3QiLCJHZXQiLCJNYXRjaCIsIkluZGV4Iiwic3Vic2NyaXB0aW9uIiwic3Vic2NyaXB0aW9ucyIsInJldHJpZXZlIiwic3Vic2NyaXB0aW9uRGF0YSIsImlkIiwidXNlcklkIiwic3RhdHVzIiwicHJpY2VJZCIsIml0ZW1zIiwiZGF0YSIsInByaWNlIiwiQ3JlYXRlIiwiQ29sbGVjdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/_lib/manageSubscription.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/webhooks.ts":
/*!***********************************!*\
  !*** ./src/pages/api/webhooks.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"config\": () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _service_stripe__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../service/stripe */ \"(api)/./src/service/stripe.ts\");\n/* harmony import */ var _lib_manageSubscription__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./_lib/manageSubscription */ \"(api)/./src/pages/api/_lib/manageSubscription.ts\");\n\n\nasync function buffer(readable) {\n    const chucks = [];\n    for await (const chuck of readable){\n        chucks.push(typeof chuck === \"string\" ? Buffer.from(chuck) : chuck);\n    }\n    return Buffer.concat(chucks);\n}\nconst config = {\n    api: {\n        bodyParser: false\n    }\n};\nconst relevantEvents = new Set([\n    \"checkout.session.completed\"\n]);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (async (req, res)=>{\n    if (req.method === \"POST\") {\n        const buf = await buffer(req);\n        const secret = req.headers[\"stripe-signature\"];\n        let event;\n        try {\n            event = _service_stripe__WEBPACK_IMPORTED_MODULE_0__.stripe.webhooks.constructEvent(buf, secret, process.env.STRIPE_WEBHOOK_SECRET);\n        } catch (error) {\n            return res.status(400).send(`Webhook error: ${error.message}`);\n        }\n        const { type  } = event;\n        if (relevantEvents.has(type)) {\n            try {\n                switch(type){\n                    case \"checkout.session.completed\":\n                        const checkoutSession = event.data.object;\n                        await (0,_lib_manageSubscription__WEBPACK_IMPORTED_MODULE_1__.saveSubscription)(checkoutSession.subscription.toString(), checkoutSession.customer.toString());\n                        break;\n                    default:\n                        throw new Error(\"Unhadled event.\");\n                }\n            } catch (error) {\n                return res.json({\n                    error: \"Webhook handler failed.\"\n                });\n            }\n        }\n        res.json({\n            received: true\n        });\n    }\n    res.setHeader(\"Allow\", \"POST\");\n    res.status(405).end(\"Mathod not allowed\");\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL3dlYmhvb2tzLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFHOEM7QUFDZTtBQUU3RCxlQUFlRSxNQUFNLENBQUNDLFFBQWtCLEVBQUM7SUFDckMsTUFBTUMsTUFBTSxHQUFHLEVBQUU7SUFFakIsV0FBVyxNQUFNQyxLQUFLLElBQUlGLFFBQVEsQ0FBQztRQUMvQkMsTUFBTSxDQUFDRSxJQUFJLENBQ1AsT0FBT0QsS0FBSyxLQUFLLFFBQVEsR0FBR0UsTUFBTSxDQUFDQyxJQUFJLENBQUNILEtBQUssQ0FBQyxHQUFHQSxLQUFLLENBQ3pEO0tBQ0o7SUFFRCxPQUFPRSxNQUFNLENBQUNFLE1BQU0sQ0FBQ0wsTUFBTSxDQUFDO0NBQy9CO0FBRU0sTUFBTU0sTUFBTSxHQUFHO0lBQ2xCQyxHQUFHLEVBQUU7UUFDREMsVUFBVSxFQUFFLEtBQUs7S0FDcEI7Q0FDSjtBQUVELE1BQU1DLGNBQWMsR0FBRyxJQUFJQyxHQUFHLENBQUM7SUFDM0IsNEJBQTRCO0NBQy9CLENBQUM7QUFFRixpRUFBZSxPQUFPQyxHQUFtQixFQUFFQyxHQUFvQixHQUFLO0lBQ2hFLElBQUlELEdBQUcsQ0FBQ0UsTUFBTSxLQUFLLE1BQU0sRUFBRTtRQUN2QixNQUFNQyxHQUFHLEdBQUcsTUFBTWhCLE1BQU0sQ0FBQ2EsR0FBRyxDQUFDO1FBQzdCLE1BQU1JLE1BQU0sR0FBR0osR0FBRyxDQUFDSyxPQUFPLENBQUMsa0JBQWtCLENBQUM7UUFFOUMsSUFBSUMsS0FBSztRQUVULElBQUk7WUFDQUEsS0FBSyxHQUFHckIsMkVBQThCLENBQUNrQixHQUFHLEVBQUVDLE1BQU0sRUFBRUssT0FBTyxDQUFDQyxHQUFHLENBQUNDLHFCQUFxQixDQUFDO1NBRXpGLENBQUMsT0FBT0MsS0FBSyxFQUFFO1lBQ1osT0FBT1gsR0FBRyxDQUFDWSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQyxDQUFDLGVBQWUsRUFBRUYsS0FBSyxDQUFDRyxPQUFPLENBQUMsQ0FBQyxDQUFDO1NBQ2pFO1FBRUQsTUFBTSxFQUFFQyxJQUFJLEdBQUUsR0FBR1YsS0FBSztRQUV0QixJQUFHUixjQUFjLENBQUNtQixHQUFHLENBQUNELElBQUksQ0FBQyxFQUFDO1lBQ3pCLElBQUk7Z0JBQ0gsT0FBUUEsSUFBSTtvQkFDUixLQUFLLDRCQUE0Qjt3QkFFN0IsTUFBTUUsZUFBZSxHQUFHWixLQUFLLENBQUNhLElBQUksQ0FBQ0MsTUFBTTt3QkFFekMsTUFBTWxDLHlFQUFnQixDQUNsQmdDLGVBQWUsQ0FBQ0csWUFBWSxDQUFDQyxRQUFRLEVBQUUsRUFDdkNKLGVBQWUsQ0FBQ0ssUUFBUSxDQUFDRCxRQUFRLEVBQUUsQ0FDdEM7d0JBRUQsTUFBTTtvQkFDVjt3QkFDSSxNQUFNLElBQUlFLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO2lCQUUxQzthQUNELENBQUMsT0FBT1osS0FBSyxFQUFFO2dCQUNYLE9BQU9YLEdBQUcsQ0FBQ3dCLElBQUksQ0FBQztvQkFBRWIsS0FBSyxFQUFFLHlCQUF5QjtpQkFBQyxDQUFDO2FBQ3hEO1NBRUg7UUFFRFgsR0FBRyxDQUFDd0IsSUFBSSxDQUFDO1lBQUVDLFFBQVEsRUFBRSxJQUFJO1NBQUMsQ0FBQztLQUM5QjtJQUNEekIsR0FBRyxDQUFDMEIsU0FBUyxDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUM7SUFDOUIxQixHQUFHLENBQUNZLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ2UsR0FBRyxDQUFDLG9CQUFvQixDQUFDO0NBQzVDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdHVsaW9fcG9ydGZvbGlvLy4vc3JjL3BhZ2VzL2FwaS93ZWJob29rcy50cz9kM2E0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tIFwibmV4dFwiO1xuaW1wb3J0IHsgUmVhZGFibGUgfSBmcm9tICdzdHJlYW0nXG5pbXBvcnQgU3RyaXBlIGZyb20gXCJzdHJpcGVcIjtcbmltcG9ydCB7IHN0cmlwZSB9IGZyb20gXCIuLi8uLi9zZXJ2aWNlL3N0cmlwZVwiO1xuaW1wb3J0IHsgc2F2ZVN1YnNjcmlwdGlvbiB9IGZyb20gXCIuL19saWIvbWFuYWdlU3Vic2NyaXB0aW9uXCI7XG5cbmFzeW5jIGZ1bmN0aW9uIGJ1ZmZlcihyZWFkYWJsZTogUmVhZGFibGUpe1xuICAgIGNvbnN0IGNodWNrcyA9IFtdXG5cbiAgICBmb3IgYXdhaXQgKGNvbnN0IGNodWNrIG9mIHJlYWRhYmxlKXtcbiAgICAgICAgY2h1Y2tzLnB1c2goXG4gICAgICAgICAgICB0eXBlb2YgY2h1Y2sgPT09ICdzdHJpbmcnID8gQnVmZmVyLmZyb20oY2h1Y2spIDogY2h1Y2tcbiAgICAgICAgKVxuICAgIH07XG5cbiAgICByZXR1cm4gQnVmZmVyLmNvbmNhdChjaHVja3MpXG59XG5cbmV4cG9ydCBjb25zdCBjb25maWcgPSB7XG4gICAgYXBpOiB7XG4gICAgICAgIGJvZHlQYXJzZXI6IGZhbHNlXG4gICAgfVxufVxuXG5jb25zdCByZWxldmFudEV2ZW50cyA9IG5ldyBTZXQoW1xuICAgICdjaGVja291dC5zZXNzaW9uLmNvbXBsZXRlZCdcbl0pXG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIChyZXE6IE5leHRBcGlSZXF1ZXN0LCByZXM6IE5leHRBcGlSZXNwb25zZSkgPT4ge1xuICAgIGlmIChyZXEubWV0aG9kID09PSAnUE9TVCcpIHtcbiAgICAgICAgY29uc3QgYnVmID0gYXdhaXQgYnVmZmVyKHJlcSlcbiAgICAgICAgY29uc3Qgc2VjcmV0ID0gcmVxLmhlYWRlcnNbJ3N0cmlwZS1zaWduYXR1cmUnXVxuXG4gICAgICAgIGxldCBldmVudDogU3RyaXBlLkV2ZW50XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGV2ZW50ID0gc3RyaXBlLndlYmhvb2tzLmNvbnN0cnVjdEV2ZW50KGJ1Ziwgc2VjcmV0LCBwcm9jZXNzLmVudi5TVFJJUEVfV0VCSE9PS19TRUNSRVQpXG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZChgV2ViaG9vayBlcnJvcjogJHtlcnJvci5tZXNzYWdlfWApXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IHR5cGUgfSA9IGV2ZW50XG5cbiAgICAgICAgaWYocmVsZXZhbnRFdmVudHMuaGFzKHR5cGUpKXtcbiAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2NoZWNrb3V0LnNlc3Npb24uY29tcGxldGVkJzpcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGVja291dFNlc3Npb24gPSBldmVudC5kYXRhLm9iamVjdCBhcyBTdHJpcGUuQ2hlY2tvdXQuU2Vzc2lvblxuXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHNhdmVTdWJzY3JpcHRpb24oXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja291dFNlc3Npb24uc3Vic2NyaXB0aW9uLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja291dFNlc3Npb24uY3VzdG9tZXIudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmhhZGxlZCBldmVudC5cIik7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG4gICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKHsgZXJyb3I6ICdXZWJob29rIGhhbmRsZXIgZmFpbGVkLid9KVxuICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgfVxuXG4gICAgICAgIHJlcy5qc29uKHsgcmVjZWl2ZWQ6IHRydWV9KVxuICAgIH0gXG4gICAgcmVzLnNldEhlYWRlcignQWxsb3cnLCAnUE9TVCcpXG4gICAgcmVzLnN0YXR1cyg0MDUpLmVuZCgnTWF0aG9kIG5vdCBhbGxvd2VkJylcbn0iXSwibmFtZXMiOlsic3RyaXBlIiwic2F2ZVN1YnNjcmlwdGlvbiIsImJ1ZmZlciIsInJlYWRhYmxlIiwiY2h1Y2tzIiwiY2h1Y2siLCJwdXNoIiwiQnVmZmVyIiwiZnJvbSIsImNvbmNhdCIsImNvbmZpZyIsImFwaSIsImJvZHlQYXJzZXIiLCJyZWxldmFudEV2ZW50cyIsIlNldCIsInJlcSIsInJlcyIsIm1ldGhvZCIsImJ1ZiIsInNlY3JldCIsImhlYWRlcnMiLCJldmVudCIsIndlYmhvb2tzIiwiY29uc3RydWN0RXZlbnQiLCJwcm9jZXNzIiwiZW52IiwiU1RSSVBFX1dFQkhPT0tfU0VDUkVUIiwiZXJyb3IiLCJzdGF0dXMiLCJzZW5kIiwibWVzc2FnZSIsInR5cGUiLCJoYXMiLCJjaGVja291dFNlc3Npb24iLCJkYXRhIiwib2JqZWN0Iiwic3Vic2NyaXB0aW9uIiwidG9TdHJpbmciLCJjdXN0b21lciIsIkVycm9yIiwianNvbiIsInJlY2VpdmVkIiwic2V0SGVhZGVyIiwiZW5kIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/webhooks.ts\n");

/***/ }),

/***/ "(api)/./src/service/fauna.ts":
/*!******************************!*\
  !*** ./src/service/fauna.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"fauna\": () => (/* binding */ fauna)\n/* harmony export */ });\n/* harmony import */ var faunadb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! faunadb */ \"faunadb\");\n/* harmony import */ var faunadb__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(faunadb__WEBPACK_IMPORTED_MODULE_0__);\n\nconst fauna = new faunadb__WEBPACK_IMPORTED_MODULE_0__.Client({\n    secret: process.env.FAUNADB_KEY,\n    domain: \"db.us.fauna.com\"\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvc2VydmljZS9mYXVuYS50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0M7QUFFekIsTUFBTUMsS0FBSyxHQUFHLElBQUlELDJDQUFNLENBQUM7SUFDNUJFLE1BQU0sRUFBRUMsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFdBQVc7SUFDL0JDLE1BQU0sRUFBRSxpQkFBaUI7Q0FDMUIsQ0FBQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdHVsaW9fcG9ydGZvbGlvLy4vc3JjL3NlcnZpY2UvZmF1bmEudHM/N2QwNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDbGllbnQgfSBmcm9tICdmYXVuYWRiJ1xuXG5leHBvcnQgY29uc3QgZmF1bmEgPSBuZXcgQ2xpZW50KHtcbiAgICBzZWNyZXQ6IHByb2Nlc3MuZW52LkZBVU5BREJfS0VZLFxuICAgIGRvbWFpbjogXCJkYi51cy5mYXVuYS5jb21cIixcbiAgfSk7XG4iXSwibmFtZXMiOlsiQ2xpZW50IiwiZmF1bmEiLCJzZWNyZXQiLCJwcm9jZXNzIiwiZW52IiwiRkFVTkFEQl9LRVkiLCJkb21haW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/service/fauna.ts\n");

/***/ }),

/***/ "(api)/./src/service/stripe.ts":
/*!*******************************!*\
  !*** ./src/service/stripe.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"stripe\": () => (/* binding */ stripe)\n/* harmony export */ });\n/* harmony import */ var stripe__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! stripe */ \"stripe\");\n/* harmony import */ var stripe__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(stripe__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _package_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../package.json */ \"(api)/./package.json\");\n\n\nconst stripe = new (stripe__WEBPACK_IMPORTED_MODULE_0___default())(process.env.STRIPE_API_KEY, {\n    apiVersion: \"2020-08-27\",\n    appInfo: {\n        name: \"TulioAnnotation\",\n        version: _package_json__WEBPACK_IMPORTED_MODULE_1__.version\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvc2VydmljZS9zdHJpcGUudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUEyQjtBQUNpQjtBQUVyQyxNQUFNRSxNQUFNLEdBQUcsSUFBSUYsK0NBQU0sQ0FDNUJHLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxjQUFjLEVBQzFCO0lBQ0lDLFVBQVUsRUFBRSxZQUFZO0lBQ3hCQyxPQUFPLEVBQUU7UUFDTEMsSUFBSSxFQUFFLGlCQUFpQjtRQUN2QlAsT0FBTztLQUNWO0NBQ0osQ0FDSiIsInNvdXJjZXMiOlsid2VicGFjazovL3R1bGlvX3BvcnRmb2xpby8uL3NyYy9zZXJ2aWNlL3N0cmlwZS50cz9kOGZhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTdHJpcGUgZnJvbSAnc3RyaXBlJ1xuaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gJy4uLy4uL3BhY2thZ2UuanNvbidcblxuZXhwb3J0IGNvbnN0IHN0cmlwZSA9IG5ldyBTdHJpcGUoXG4gICAgcHJvY2Vzcy5lbnYuU1RSSVBFX0FQSV9LRVksXG4gICAge1xuICAgICAgICBhcGlWZXJzaW9uOiAnMjAyMC0wOC0yNycsXG4gICAgICAgIGFwcEluZm86IHtcbiAgICAgICAgICAgIG5hbWU6ICdUdWxpb0Fubm90YXRpb24nLFxuICAgICAgICAgICAgdmVyc2lvblxuICAgICAgICB9LFxuICAgIH1cbikiXSwibmFtZXMiOlsiU3RyaXBlIiwidmVyc2lvbiIsInN0cmlwZSIsInByb2Nlc3MiLCJlbnYiLCJTVFJJUEVfQVBJX0tFWSIsImFwaVZlcnNpb24iLCJhcHBJbmZvIiwibmFtZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/service/stripe.ts\n");

/***/ }),

/***/ "(api)/./package.json":
/*!**********************!*\
  !*** ./package.json ***!
  \**********************/
/***/ ((module) => {

module.exports = JSON.parse('{"name":"tulio_portfolio","version":"0.1.0","private":true,"scripts":{"dev":"next dev","build":"next build","start":"next start","lint":"next lint"},"dependencies":{"@stripe/stripe-js":"^1.32.0","axios":"^0.27.2","faunadb":"^4.5.4","next":"12.1.4","next-auth":"^4.3.4","react":"18.0.0","react-dom":"18.0.0","react-icons":"^4.3.1","sass":"^1.49.10","stripe":"^8.214.0"},"devDependencies":{"@types/next-auth":"^3.15.0","@types/node":"^17.0.23","@types/react":"^17.0.43","eslint":"8.12.0","eslint-config-next":"12.1.4","typescript":"^4.6.3"}}');

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./src/pages/api/webhooks.ts"));
module.exports = __webpack_exports__;

})();